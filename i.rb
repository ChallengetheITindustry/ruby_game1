require "./story"

class User
  @@hp = 100
  @@degree_of_progress = 0

  def initialize(name, degree_of_difficulty)
    @@name = name
    @@degree_of_difficulty = degree_of_difficulty
  end

  def self.damage
    if @@degree_of_difficulty == 1
      @@hp -= rand(1..10)
    elsif @@degree_of_difficulty == 2
      @@hp -= rand(10..20)
    elsif @@degree_of_difficulty == 3
      @@hp -= rand(30..50)
    elsif @@degree_of_difficulty == 4
      @@hp -= 100
    end

    puts <<~TEXT
           ===================================

           #{@@name}ã®ä½“åŠ›ã¯æ®‹ã‚Š#{@@hp}ã€‚
    ç¾åœ¨ã®é€²è¡Œåº¦ï¼š#{@@degree_of_progress}

           ===================================
         TEXT

    if @@hp <= 0
      puts <<~TEXT
             ====================================
                          Game Over
             ====================================
           TEXT
      exit
    end
  end

  def self.progres
    @@degree_of_progress += 1
    puts <<~TEXT
           ===================================

           #{@@name}ã®ä½“åŠ›ã¯æ®‹ã‚Š#{@@hp}ã€‚
    ç¾åœ¨ã®é€²è¡Œåº¦ï¼š#{@@degree_of_progress}

           ===================================
         TEXT

    if @@degree_of_progress == 5
      puts <<~TEXT
             ãã‚ãã‚ã‚¿ã‚¤ãƒ ãƒªãƒŸãƒƒãƒˆã®2æ™‚é–“ã 
             æ—©ãã€Žã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ã€ã‚’çµ‚ã‚ã‚‰ã›ãªã‘ã‚Œã°ï¼ï¼

             ã‚ãªãŸã¯æ€¥ã„ã§å£ã«å«ã‚“ã§ã„ãŸå¡©æ°´ã‚’ã¬ã„ãã‚‹ã¿ã«
             å¹ãã‹ã‘ã€ã€Œç§ã®å‹ã¡ã€ã¨è¨€ã‚ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚
           TEXT

      print "ä½•å›žã€Œç§ã®å‹ã¡ã€ã¨è¨€ã†ã¹ãã‹ï¼Ÿ"
      last_select = gets.chomp.to_i

      if last_select == 3
        puts <<~TEXT
               ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼
                          ðŸŽ‰ðŸŽ‰CLEARðŸŽ‰ðŸŽ‰ 

               ã‚ãªãŸã¯ç„¡äº‹ã€Žã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ã€ã‚’çµ‚ã‚ã‚‰ã›ã€
               æœã‚’è¿Žãˆã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚
               ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼
             TEXT
        exit
      else
        puts <<~TEXT
               ====================================
                            Game Over
               ====================================

               å›žæ•°ã‚’é–“é•ãˆãŸãŸã‚ã€Žã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ã€ã¯çµ‚ã‚ã‚‰ãš,,,

               å‚è€ƒã‚µã‚¤ãƒˆ
               https://kyofu.takeshobo.co.jp/news/toshidensetsu/1178/
             TEXT
      end
      exit
    end
  end
end

class Methods < User
  def self.blank
    100.times do
      puts ""
    end
  end

  def self.start
    puts <<~TEXT
           ======================================
                    âš ï¸ ã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ âš ï¸
            ã€œçµ¶å¯¾ã«ä¸€äººã§ãƒ—ãƒ¬ã‚¤ã—ãªã„ã§ãã ã•ã„ã€œ
           ======================================
           
           ã€œèª¬æ˜Žã€œ
           ã“ã®ã‚²ãƒ¼ãƒ ã¯ã€æ€ªè«‡è©±ã€Žã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ã€ã‚’é¡Œæã«ã—ã¦ä½œæˆã—ãŸã‚²ãƒ¼ãƒ ã§ã™ã€‚
           æ­£ã—ã„é¸æŠžè‚¢ã‚’é¸ã‚“ã§ã€ã‹ãã‚Œã‚“ã¼ã‚’çµ‚ã‚ã‚‰ã›ã¾ã—ã‚‡ã†ã€‚
           

           -------------------------------------------
           åˆ¶ä½œæœŸé–“ï¼š3æ—¥
           ä½¿ç”¨è¨€èªžï¼šRuby
           
           ã€œè£½ä½œè€…ã€œ
           åå‰ï¼štaisei
           å¹´é½¢ï¼š23
           
           æœªçµŒé¨“ã‹ã‚‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢è»¢è·ç›®æŒ‡ã—ã¦ã„ã¾ã™!!
           Ruby.Rails.Vue.jså­¦ç¿’ä¸­
           -------------------------------------------

         TEXT
    print "START: 1\nEXIT: 2\n"
    first_num = gets.to_i
    exit if first_num == 2
  end

  def self.introduction
    firsts = [first1 = "ã‚ãªãŸã¯ã€Žã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ã€ã‚’çŸ¥ã£ã¦ã„ã‚‹ã ã‚ã†ã‹ã€‚\n",
              first2 = "ã€Žã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ã€ã¨ã¯ã€å±é™ºãªé™éœŠè¡“ã€ã‚ã‚‹ã„ã¯å‘ªè¡“ã¨ã•ã‚Œã¦ãŠã‚Šã€ã‚‚ã—ã€Žã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ã€ã‚’è¡Œã£ãŸå ´åˆã«ã¯ã€ä½•ã‹ã—ã‚‰ã®æ€ªå¥‡ç¾è±¡ãŒèµ·ãã‚‹ã¨è¨€ã‚ã‚Œã¦ã„ã‚‹ã€‚\nç™ºç”Ÿã™ã‚‹æ€ªå¥‡ç¾è±¡ã¯äººãã‚Œãžã‚Œã ãŒã€‚ä»¥ä¸‹ã®æ€ªå¥‡ç¾è±¡ãŒèµ·ã“ã‚‹ã¨è¨€ã‚ã‚Œã¦ã„ã‚‹\n",
              first3 = "â—¯ã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ã«ä½¿ç”¨ã—ãŸã¬ã„ãã‚‹ã¿ã®å¤±è¸ª\nâ—¯ãƒãƒ«ã‚¿ãƒ¼ã‚¬ã‚¤ã‚¹ãƒˆã€ãƒ©ãƒƒãƒ—éŸ³ã®ç™ºç”Ÿ\nâ—¯æ©Ÿæ¢°ãŒæ•…éšœã‚’èµ·ã“ã—ãŸã‚Šã€å£Šã‚Œã¦ã—ã¾ã†\nâ—¯è€³é³´ã‚Šã‚„æ‚ªå¯’ã€æ€ªæˆ‘ã‚’ã—ã¦ã„ãªã„ã®ã«æ¿€ç—›ãŒèµ°ã‚‹ãªã©èº«ä½“çš„ç•°å¸¸\nâ—¯èª°ã‚‚ã„ãªã„ã®ã«å£°ãŒèžã“ãˆã‚‹\nâ—¯å¹½éœŠãŒè¦‹ãˆã‚‹\n",
              first4 = "ã‚ãªãŸã¯ä»Šã‹ã‚‰ã€Žã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ã€ã‚’ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚\nç„¡äº‹æœã‚’è¿Žãˆã‚‰ã‚Œã‚‹ã ã‚ã†ã‹â€¦â€¦\n"]

    firsts.each do |first|
      first.chars.each do |new|
        print "#{new}"
        sleep 0.2
      end
      sleep 2
    end
  end

  def self.conversasion
    preparation = "ã‚ã‚‹æ—¥å‹äººã¨è©±ã—ã¦ã„ãŸã„ã‚ãªãŸã¯ã€Žã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ã€ã®å­˜åœ¨ã‚’çŸ¥ã‚‹ã€‚"
    preparation.chars.each do |new|
      print "#{new}"
      sleep 0.15
    end
    sleep 3
    puts "\nå‹äººã€Žã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ã£ã¦çŸ¥ã£ã¦ã‚‹ï¼Ÿï¼Ÿã€"
    sleep 3
    puts "#{@@name}ã€Žã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ï¼Ÿãªã«ãã‚Œï¼Ÿã€"
    sleep 3
    puts "å‹äººã€Žé™éœŠè¡“ã®ä¸€ã¤ã§å®Ÿè¡Œã™ã‚‹ã¨æ§˜ã€…ãªæ€ªå¥‡ç¾è±¡ãŒèµ·ãã‚‹ã‚‰ã—ã„ã‚ˆç¬‘ã‚„ã£ã¦ã¿ã¦ã‚ˆç¬‘ã€"
    sleep 3
    puts "#{@@name}ã€Žãã†ãªã‚“ã ç¬‘ã©ã†ã‚„ã£ã¦ã‚„ã‚‹ã®ï¼Ÿï¼Ÿã€"
    sleep 3
    puts "å‹äººã«è¦‹ã›ã¦ã‚‚ã‚‰ã£ãŸã‚µã‚¤ãƒˆã«ã€Žã²ã¨ã‚Šã‹ãã‚Œã‚“ã¼ã€ã®ã‚„ã‚Šæ–¹ãŒæ›¸ã„ã¦ã‚ã£ãŸ"
    sleep 2
    puts <<~TEXT
      --------------------------------------------------------------------------------
      <æº–å‚™ã™ã‚‹ã‚‚ã®>                                                                    
       ãƒ»ç¶¿ã‚’æŠœã„ãŸæ‰‹è¶³ã®ã¤ã„ãŸã¬ã„ãã‚‹ã¿                                                   
       ãƒ»ç±³
       ãƒ»ç¸«ã„é‡ã€ç¸«ã„ç³¸ï¼ˆèµ¤ï¼‰
       ãƒ»åŒ…ä¸ã‹ã‚«ãƒƒã‚¿ãƒ¼ãƒŠã‚¤ãƒ•
       ãƒ»ã‚³ãƒƒãƒ—ä¸€æ¯ã«å¡©
       ãƒ»çˆªåˆ‡ã‚Š
       ãƒ»å‘½çŸ¥ã‚‰ãšã®äººã¯å‹•ç‰©ã®è‚‰ã€è‡ªåˆ†ã®æ¯›é«ªã‚„è¡€ï¼ˆã‚¿ãƒ–ãƒ¼ã®é ˜åŸŸï¼‰

       å¤œä¸­ã®3æ™‚ã¾ã§ã«ã“ã‚Œã‚‰ã‚’æº–å‚™ã—ã¦ãŠãã€ã¾ãšã¯ã¬ã„ãã‚‹ã¿ã®ç¶¿ã‚’å…¨ã¦å–ã‚Šé™¤ãç±³ã‚’è©°ã‚ã‚‹ã€‚
       è‡ªåˆ†ã®çˆªã‚’åˆ‡ã‚Šã€ãã®ä¸€æ¬ ç‰‡ã‚’å…¥ã‚ŒãŸã‚ã¨èµ¤ã„ç³¸ã§ç¸«ã†ï¼ˆçˆªâ†’é«ªã®æ¯›â†’å”¾æ¶²â†’è¡€ã®é †ç•ªã§å±é™ºåº¦ãŒå¤‰ã‚ã‚‹ï¼‰
       ã¬ã„çµ‚ã‚ã£ãŸã‚‰ãã®ã¾ã¾èµ¤ã„ç³¸ã‚’ã¬ã„ãã‚‹ã¿ã«å·»ãä»˜ã‘ã€ã¬ã„ãã‚‹ã¿ã«åå‰ã‚’ã¤ã‘ã‚‹ã€‚

       1.ã¬ã„ãã‚‹ã¿ã«å‘ã‹ã£ã¦ã€Œæœ€åˆã®é¬¼ã¯â—¯â—¯ï¼ˆè‡ªåˆ†ã®åå‰ï¼‰ã ã‹ã‚‰ã€ã¨3å›žè¨€ã†ã€‚
       2.æ¬¡ã«é¢¨å‘‚å ´ã¸å‘ã‹ã„ã€æ°´ã‚’å¼µã£ãŸæµ´æ§½ã«ã¬ã„ãã‚‹ã¿ã‚’æ²ˆã‚ã‚‹ã€‚
       3.éƒ¨å±‹ã«æˆ»ã‚Šã€å®¶ä¸­ã®æ˜Žã‹ã‚Šã€ç…§æ˜Žã‚’å…¨ã¦æ¶ˆã—ã€ãƒ†ãƒ¬ãƒ“ã ã‘ä»˜ã‘ã‚‹ã€‚
         ã“ã®ã¨ããƒ†ãƒ¬ãƒ“ã¯ç ‚åµã®ç”»é¢ã«ã—ã€ç›®ã‚’çž‘ã£ã¦10ç§’æ•°ãˆã‚‹ã€‚
       4.åŒ…ä¸ã€ã¾ãŸã¯ã‚«ãƒƒã‚¿ãƒ¼ãƒŠã‚¤ãƒ•ã‚’æŒã¡ãªãŒã‚‰é¢¨å‘‚å ´ã¸å‘ã‹ã†ã€‚
       5.ã¬ã„ãã‚‹ã¿ã®ã¨ã“ã‚ã¾ã§ããŸã‚‰ã€Œâ–²â–²(ã¬ã„ãã‚‹ã¿ã®åå‰)è¦‹ã¤ã‘ãŸã€ã¨è¨€ã„ã€
         åŒ…ä¸ã‚’ã¬ã„ãã‚‹ã¿ã«åˆºã™ã€‚
       6.ãã—ã¦ã€Œæ¬¡ã¯â–²â–²ãŒé¬¼ã€ã¨è¨€ã„ãªãŒã‚‰ãã®å ´æ‰€ã«ç½®ãã€ã™ãã«é€ƒã’ã¦éš ã‚Œã‚‹ã€‚
       7.å¡©æ°´ã‚’åŠåˆ†ã»ã©å£ã«å«ã‚€.
       8.å¿ƒéœŠç¾è±¡ã€æ€ªå¥‡ç¾è±¡ãŒèµ·ãã‚‹ã¾ã§ã²ãŸã™ã‚‰éš ã‚Œã€å¾…ã¡ã¾ã™ã€‚
       9.çµ‚ã‚ã‚‰ã™éš›ã¯ã€Œç§ã®å‹ã¡ã€ã¨3å›žå”±ãˆã¦å£ã«å«ã‚“ã å¡©æ°´ã‚’å¹ãã‹ã‘ã‚‹ â€»2æ™‚é–“ä»¥å†…ã«ã¯çµ‚ã‚ã‚‰ã›ã‚‹ã“ã¨ã€‚
      ---------------------------------------------------------------------------------
    TEXT
    sleep 30
    puts "#{@@name}ã€Žé¢ç™½ãã†ï¼ï¼ä»Šå¤œã‚„ã£ã¦ã¿ã‚‹ï¼ã€"
    sleep 3
    puts "å‹äººã€Žæ°—ã‚’ã¤ã‘ã¦ã­ã€ã€ã€ã€"
  end
end

Methods.blank
Methods.start
Methods.blank
Methods.introduction
print "åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„>"
name = gets.chomp
puts <<~TEXT
       é›£æ˜“åº¦ã‚’é¸æŠžã—ã¦ãã ã•ã„ã€‚

       ãƒ»çˆªï¼š1
       ãƒ»é«ªã®æ¯›ï¼š2
       ãƒ»å”¾æ¶²ï¼š3
       ãƒ»è¡€ï¼š4

     TEXT
degree_of_difficulty = gets.to_i
user = User.new(name, degree_of_difficulty)
story = Story.new
Methods.blank
Methods.conversasion
Methods.blank

methods = [story.action1,
           story.action2,
           story.action3,
           story.action4,
           story.action5,
           story.action6,
           story.action7,
           story.action8,
           story.action9,
           story.action10]
methods.each do |method|
  method
end
